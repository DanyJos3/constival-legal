---
/**
 * ServiceCard - Cards del slider del Hero
 * Estilos basados en sas-facil-front/services-card.tsx
 */
interface Props {
  title: string;
  description: string;
  icon: string;
  variant?: 'dark' | 'medium' | 'light';
}

const { title, description, icon, variant = 'dark' } = Astro.props;

// Icon paths mapping (todos los iconos con tama√±o estandarizado)
const iconPaths: Record<string, string> = {
  'building-2': 'M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18M4 22h16M10 18v4M14 18v4M10 14h.01M10 10h.01M10 6h.01M14 14h.01M14 10h.01M14 6h.01',
  'badge-check': 'M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76M9 12l2 2 4-4',
  'scale': 'M16 3h5v5M8 3H3v5M21 3l-7 7M3 21l7-7M8 21H3v-5M16 21h5v-5',
  'file-pen': 'M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10M14 2v4a2 2 0 0 0 2 2h4M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4 5.4-5.4z',
  'arrow-left-right': 'M8 3L4 7l4 4M4 7h16M16 21l4-4-4-4M20 17H4',
  'circle-x': 'M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zM15 9l-6 6M9 9l6 6',
};

const iconPath = iconPaths[icon] || iconPaths['building-2'];
---

<div class:list={["service-card", `service-card--${variant}`]}>
  <!-- Icon Container -->
  <div class="service-card__icon">
    <svg 
      viewBox="0 0 24 24"
      fill="none" 
      stroke="currentColor" 
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d={iconPath} />
    </svg>
  </div>
  
  <!-- Title -->
  <h3 class="service-card__title">
    {title}
  </h3>
  
  <!-- Description -->
  <p class="service-card__description">
    {description}
  </p>
</div>

<style>
  /* Base Card Styles */
  .service-card {
    flex-shrink: 0;
    width: 10rem;      /* 160px - mobile */
    height: 14rem;     /* 224px - mobile */
    padding: 1rem;
    border-radius: 0.75rem;
    backdrop-filter: blur(8px);
    transition: all 0.3s ease;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    border-width: 1px;
    border-style: solid;
    overflow: hidden;  /* Evita que el texto se salga */
  }
  
  @media (min-width: 1024px) {
    .service-card {
      width: 14rem;    /* 224px - desktop */
      height: 14rem;   /* 224px - desktop */
      padding: 1.5rem;
      border-radius: 1rem;
    }
  }
  
  /* Icon Container */
  .service-card__icon {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 0.75rem;
    flex-shrink: 0;
  }
  
  @media (min-width: 1024px) {
    .service-card__icon {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: 0.75rem;
    }
  }
  
  .service-card__icon svg {
    width: 1.25rem;
    height: 1.25rem;
  }
  
  @media (min-width: 1024px) {
    .service-card__icon svg {
      width: 1.75rem;
      height: 1.75rem;
    }
  }
  
  /* Title */
  .service-card__title {
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    line-height: 1.3;
    flex-shrink: 0;
  }
  
  @media (min-width: 1024px) {
    .service-card__title {
      font-size: 1rem;
    }
  }
  
  /* Description */
  .service-card__description {
    font-size: 0.75rem;
    line-height: 1.5;
    flex: 1;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
  }
  
  @media (min-width: 1024px) {
    .service-card__description {
      font-size: 0.875rem;
      -webkit-line-clamp: 3;
    }
  }
  
  /* ========================================
     VARIANT: DARK (verde muy oscuro)
     ======================================== */
  .service-card--dark {
    background-color: rgba(13, 26, 26, 0.85);  /* primary-dark */
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  .service-card--dark:hover {
    background-color: rgba(13, 26, 26, 0.95);
  }
  
  .service-card--dark .service-card__icon {
    background-color: rgba(20, 184, 166, 0.3);  /* accent/30 */
  }
  
  .service-card--dark .service-card__icon svg {
    color: hsl(175 77% 45%);  /* accent */
  }
  
  .service-card--dark .service-card__title {
    color: #ffffff;
  }
  
  .service-card--dark .service-card__description {
    color: rgba(255, 255, 255, 0.7);
  }
  
  /* ========================================
     VARIANT: MEDIUM (verde medio)
     ======================================== */
  .service-card--medium {
    background-color: rgba(27, 47, 47, 0.85);  /* primary-medium */
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  .service-card--medium:hover {
    background-color: rgba(27, 47, 47, 0.95);
  }
  
  .service-card--medium .service-card__icon {
    background-color: rgba(20, 184, 166, 0.3);  /* accent/30 */
  }
  
  .service-card--medium .service-card__icon svg {
    color: hsl(175 77% 45%);  /* accent */
  }
  
  .service-card--medium .service-card__title {
    color: #ffffff;
  }
  
  .service-card--medium .service-card__description {
    color: rgba(255, 255, 255, 0.7);
  }
  
  /* ========================================
     VARIANT: LIGHT (blanco)
     ======================================== */
  .service-card--light {
    background-color: rgba(255, 255, 255, 0.95);
    border-color: #e5e7eb;  /* gray-200 */
  }
  
  .service-card--light:hover {
    background-color: #ffffff;
  }
  
  .service-card--light .service-card__icon {
    background-color: rgba(20, 184, 166, 0.2);  /* accent/20 */
  }
  
  .service-card--light .service-card__icon svg {
    color: hsl(175 77% 45%);  /* accent */
  }
  
  .service-card--light .service-card__title {
    color: #111827 !important;  /* gray-900 */
  }
  
  .service-card--light .service-card__description {
    color: #4b5563 !important;  /* gray-600 */
  }
</style>
